<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>web-codex</title>
    <style>
      /* Theme variables (default: dark) */
      :root {
        --bg: #0b1220;
        --text: #e6edf3;
        --header-bg: #0f172a;
        --border: #1f2937;
        --tag-bg: #1f2937;
        --tag-text: #9ca3af;
        --pane-bg: #0f172a;
        --tab-bg: #111827;
        --tab-active-bg: #1f2937;
        --repo-hover: #111827;
        --primary-bg: #2563eb;
        --secondary-bg: #1f2937;
        --secondary-text: #cbd5e1;
        --input-bg: #0b1220;
        --muted: #9ca3af;
        --link: #93c5fd;
        --mobile-bottom-bg: #0f172a;
        --badge-green-bg: #064e3b;
        --badge-red-bg: #7f1d1d;
        --badge-gray-bg: #374151;
      }
      /* Light theme values when auto (no data-theme) and system prefers light */
      @media (prefers-color-scheme: light) {
        :root:not([data-theme]) {
          --bg: #f8fafc;
          --text: #0f172a;
          --header-bg: #ffffff;
          --border: #e5e7eb;
          --tag-bg: #eef2f7;
          --tag-text: #475569;
          --pane-bg: #ffffff;
          --tab-bg: #f1f5f9;
          --tab-active-bg: #e2e8f0;
          --repo-hover: #f1f5f9;
          --primary-bg: #2563eb;
          --secondary-bg: #f3f4f6;
          --secondary-text: #334155;
          --input-bg: #ffffff;
          --muted: #64748b;
          --link: #1d4ed8;
          --mobile-bottom-bg: #ffffff;
          --badge-green-bg: #dcfce7;
          --badge-red-bg: #fee2e2;
          --badge-gray-bg: #e5e7eb;
        }
      }
      /* Explicit theme overrides */
      [data-theme="dark"] {
        --bg: #0b1220;
        --text: #e6edf3;
        --header-bg: #0f172a;
        --border: #1f2937;
        --tag-bg: #1f2937;
        --tag-text: #9ca3af;
        --pane-bg: #0f172a;
        --tab-bg: #111827;
        --tab-active-bg: #1f2937;
        --repo-hover: #111827;
        --primary-bg: #2563eb;
        --secondary-bg: #1f2937;
        --secondary-text: #cbd5e1;
        --input-bg: #0b1220;
        --muted: #9ca3af;
        --link: #93c5fd;
        --mobile-bottom-bg: #0f172a;
        --badge-green-bg: #064e3b;
        --badge-red-bg: #7f1d1d;
        --badge-gray-bg: #374151;
      }
      [data-theme="light"] {
        --bg: #f8fafc;
        --text: #0f172a;
        --header-bg: #ffffff;
        --border: #e5e7eb;
        --tag-bg: #eef2f7;
        --tag-text: #475569;
        --pane-bg: #ffffff;
        --tab-bg: #f1f5f9;
        --tab-active-bg: #e2e8f0;
        --repo-hover: #f1f5f9;
        --primary-bg: #2563eb;
        --secondary-bg: #f3f4f6;
        --secondary-text: #334155;
        --input-bg: #ffffff;
        --muted: #64748b;
        --link: #1d4ed8;
        --mobile-bottom-bg: #ffffff;
        --badge-green-bg: #dcfce7;
        --badge-red-bg: #fee2e2;
        --badge-gray-bg: #e5e7eb;
      }

      /* Styles using variables */
      body { font-family: ui-sans-serif, system-ui, sans-serif; margin: 0; background: var(--bg); color: var(--text); }
      header { padding: 12px 16px; background: var(--header-bg); border-bottom: 1px solid var(--border); display:flex; align-items:center; gap:12px;}
      .tag { background: var(--tag-bg); padding:4px 8px; border-radius: 8px; font-size: 12px; color: var(--tag-text);}
      .container { padding: 16px; }
      .row { display:flex; gap:16px; }
      .col { flex:1; }
      .pane { background: var(--pane-bg); border:1px solid var(--border); border-radius: 12px; padding:12px; }
      button { background: var(--primary-bg); border:none; color:white; padding:8px 10px; border-radius:8px; cursor:pointer; }
      button.secondary { background: var(--secondary-bg); color: var(--secondary-text); }
      button.icon { width: 36px; height: 36px; display: inline-flex; align-items: center; justify-content: center; padding: 0; }
      select, textarea, input { background: var(--input-bg); color: var(--text); border:1px solid var(--border); border-radius:8px; padding:6px; width:100%; }
      textarea { min-height: 120px; }
      .tabs { display:flex; gap:8px; margin-bottom: 8px; flex-wrap: wrap;}
      .tab { padding:6px 10px; border-radius: 8px; background: var(--tab-bg); border:1px solid var(--border); cursor:pointer; }
      .tab.active { background: var(--tab-active-bg); }
      .repo { padding:8px; border-bottom:1px dashed var(--border); display:flex; justify-content:space-between; align-items:center; gap:8px; border-radius:8px; }
      .repo:hover { background: var(--repo-hover); }
      .muted { color: var(--muted); font-size:12px; }
      code.diff { white-space: pre; display:block; overflow:auto; max-height: 50vh; background: var(--input-bg); border:1px solid var(--border); border-radius:8px; padding:12px; }
      a { color: var(--link); }
    
      /* Responsive enhancements */
      .actions { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
      @media (max-width: 820px) {
        .container { padding: 12px; }
        .row { flex-direction: column; gap: 12px; }
        .pane { padding: 10px; border-radius: 10px; }
        .tabs { overflow-x: auto; white-space: nowrap; -webkit-overflow-scrolling: touch; }
        .tab { display: inline-block; }
        button, select, input, textarea { font-size: 16px; } /* prevent iOS zoom */
        code.diff { max-height: 40vh; }
        .term { height: 45vh; }
      }
      @media (min-width: 821px) {
        code.diff { max-height: 60vh; }
        .term { height: 60vh; }
      }

      /* Bottom nav for mobile */
      .bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; background: var(--mobile-bottom-bg); border-top:1px solid var(--border); display:flex; }
      .bottom-nav button { flex:1; padding:12px; border-radius:0; }
      @media (min-width: 821px) { .bottom-nav { display:none; } }

      .badge { font-size:12px; padding:2px 6px; border-radius:6px; border:1px solid var(--border); margin-left:6px; }
      .badge.green { background: var(--badge-green-bg); }
      .badge.red { background: var(--badge-red-bg); }
      .badge.gray { background: var(--badge-gray-bg); }

    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
